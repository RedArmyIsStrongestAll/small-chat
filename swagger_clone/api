{"openapi":"3.0.1","info":{"title":"Small-Chat API-UI","description":"<h2> Websocket </h2> <h3> /websocket/endpoint </h3> метод подклчения к ws портоколу <br/><br/><h3> /chat/send/public </h3>метод отправки сообщений в общий чат, <br/><br/>ОЖИДАЕТСЯ ПЕРЕДАЧА UUID ПООЛЬЗОВТАЛЯ В ЗАГОЛОВКЕ \"SESSION\" <br/><br/>принимает объект: String <br/><br/><h3> /topic/public </h3> метод подписки к общему чату <br/><br/>возвращает объект: <br/><br/> {\n  \"message\": \"String\",\n  \"sendTime\": \"String\",\n  \"producerUserUuid\": \"String\"\n} <br/><br/><h3> /user/topic/public.error </h3> метод подписки на обшибки при отпарвке в общий чат <br/><br/>возвращает объект: String <br/><br/><h3> /chat/send/personal </h3> метод отправки сообщений в личный чат <br/><br/>ОЖИДАЕТСЯ ПЕРЕДАЧА UUID ПООЛЬЗОВТАЛЯ В ЗАГОЛОВКЕ \"SESSION\" <br/><br/>принимает объект:  <br/><br/>{\n  \"message\": \"String\",\n  \"consumerUserUuid\": \"String\",\n  \"chatId\": Long\n} <br/><br/><h3> /user/topic/private </h3>метод подписки на все личные чаты <br/><br/>возвращает объект: <br/><br/> {\n  \"message\": \"String\",\n  \"sendTime\": \"String\",\n  \"producerUserUuid\": \"String\",\n  \"consumerUserUuid\": \"String\",\n  \"chatId\": Long,\n  \"itIsProducer\": Boolean\n}<br/><br/><h3> /user/topic/private.error </h3> метод подписки на обшибки при отпарвке в личные чат <br/><br/>возвращает объект: String </br><br/> <br/><br/><h2> Uuid </h2> Uuid пользователя возвращается в заголовке ответа \"Set-Cookies\", в поле \"SESSION=\"</br><br/> <br/><br/>","version":"v0.0.1"},"externalDocs":{"description":"GitHub","url":"https://github.com/RedArmyIsStrongestAll/small-chat"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/sign/in":{"post":{"tags":["http-controller"],"summary":"регистрация имени и фотография","description":"На сервере spring испльзуется @RequestParam анотация для MultipartFile класс для поля photo","operationId":"registry","parameters":[{"name":"name","in":"query","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"photo":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResponseDTOString"}}}}}}},"/user":{"get":{"tags":["http-controller"],"summary":"получение имени и фотографии по uuid","operationId":"getUserByUuid","parameters":[{"name":"uuid","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResponseDTOUserDTO"}}}}}}},"/public/history":{"get":{"tags":["http-controller"],"summary":"поулчение истории общего чата","description":"offset начинается с 0","operationId":"publicChatHistory","parameters":[{"name":"offset","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResponseDTOListPublicMessageResponseDTO"}}}}}}},"/personal/list":{"get":{"tags":["http-controller"],"summary":"поулчение спсика личных чатов","operationId":"personalChatList","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResponseDTOListChatDTO"}}}}}}},"/personal/history":{"get":{"tags":["http-controller"],"summary":"поулчение истории личного чата","description":"offset начинается с 0","operationId":"personalChatHistory","parameters":[{"name":"chatId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"offset","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResponseDTOListPersonalMessageResponseDTO"}}}}}}}},"components":{"schemas":{"ResponseDTOString":{"type":"object","properties":{"code":{"type":"integer","description":"код http ответа","format":"int32"},"error":{"type":"string","description":"текст ошибки"},"response":{"type":"string","description":"объект ответа"}},"description":"объект оболочка ответа <br/>вернётся error или response"},"ResponseDTOUserDTO":{"type":"object","properties":{"code":{"type":"integer","description":"код http ответа","format":"int32"},"error":{"type":"string","description":"текст ошибки"},"response":{"$ref":"#/components/schemas/UserDTO"}},"description":"объект оболочка ответа <br/>вернётся error или response"},"UserDTO":{"type":"object","properties":{"userUuid":{"type":"string","description":"uuid собеседника"},"name":{"type":"string","description":"имя собеседника"},"photo":{"type":"array","description":"фотография собеседника","items":{"type":"string","description":"фотография собеседника","format":"byte"}},"photoType":{"type":"string","description":"формат фотографии (пример: \"image/png\")"}},"description":"объект собеседника по чату"},"PublicMessageResponseDTO":{"type":"object","properties":{"message":{"type":"string","description":"сообщение"},"sendTime":{"type":"string","description":"время отправки сообщения (пример: \"13:37\" )"},"producerUserUuid":{"type":"string","description":"uuid отправителя"}},"description":"объект получения сообщения из общего чата"},"ResponseDTOListPublicMessageResponseDTO":{"type":"object","properties":{"code":{"type":"integer","description":"код http ответа","format":"int32"},"error":{"type":"string","description":"текст ошибки"},"response":{"type":"array","description":"объект ответа","items":{"$ref":"#/components/schemas/PublicMessageResponseDTO"}}},"description":"объект оболочка ответа <br/>вернётся error или response"},"ChatDTO":{"type":"object","properties":{"chatId":{"type":"integer","description":"id чата","format":"int64"},"partnerUser":{"$ref":"#/components/schemas/UserDTO"}},"description":"объект чата"},"ResponseDTOListChatDTO":{"type":"object","properties":{"code":{"type":"integer","description":"код http ответа","format":"int32"},"error":{"type":"string","description":"текст ошибки"},"response":{"type":"array","description":"объект ответа","items":{"$ref":"#/components/schemas/ChatDTO"}}},"description":"объект оболочка ответа <br/>вернётся error или response"},"PersonalMessageResponseDTO":{"type":"object","properties":{"message":{"type":"string","description":"сообщение"},"sendTime":{"type":"string","description":"время отправки (пример: \"13:37\" )"},"producerUserUuid":{"type":"string","description":"uuid отправителя"},"consumerUserUuid":{"type":"string","description":"uuid получателя"},"chatId":{"type":"integer","description":"id чата","format":"int64"},"senderIsProducer":{"type":"boolean","description":"флаг кому принадлежит сообщение в рамках этого чата: отпарвителю или получателю"},"itIsProducer":{"type":"boolean","description":"флаг является ли пользовтаель отправителем в рамках этого чата"}},"description":"объект получния сообщения из личного чата"},"ResponseDTOListPersonalMessageResponseDTO":{"type":"object","properties":{"code":{"type":"integer","description":"код http ответа","format":"int32"},"error":{"type":"string","description":"текст ошибки"},"response":{"type":"array","description":"объект ответа","items":{"$ref":"#/components/schemas/PersonalMessageResponseDTO"}}},"description":"объект оболочка ответа <br/>вернётся error или response"}}}}